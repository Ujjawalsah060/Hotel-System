<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Admin Registration</title>
<style>
body{
    background: linear-gradient(to right, #dadce1, #2563eb);
    font-family: Arial, sans-serif;
    background-image: url("static/image/mainroom.jpeg");
    background-repeat: no-repeat;
    background-size: cover;
    background-position: center;
    

}
.form-container{
    width:420px;
    margin:80px auto;
    background:rgba(211, 174, 94, 0.512);
    padding:25px;
    border-radius:8px;
    box-shadow:0 0 10px rgba(0,0,0,0.2);
}
.form-container h2{
    text-align:center;
    margin-bottom:20px;
}
.form-group{
    margin-bottom:15px;
}
.form-group label{
    display:block;
    font-weight:bold;
    margin-bottom:5px;
    color: #ffffffbf;
}
.form-group input{
    width:100%;
    padding:8px;
    border:1px solid #ccc;
    border-radius:4px;
}
.btn{
    width:100%;
    padding:10px;
    background:#b96730cb;
    color:white;
    border:none;
    border-radius:4px;
    font-size:16px;
    cursor:pointer;
    transition: all 0.3s ease-in-out;
    
}
.btn:hover{
    background:#a24407;
    scale: 0.922;
}
</style>
</head>
<body>

<div class="form-container">
    <h2>Admin Registration</h2>
    <form action="register" id="registerform">
        
        <div class="form-group">
            <label>First Name </label>
            <input type="text" id="firstname" name="FirstName"  required >
        </div>

        <div class="form-group">
            <label>Last Name</label>
            <input type="text" id="lastname" name="LastName" required >
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="email" id="Email" name="email" required >
        </div>

        <div class="form-group">
            <label>Phone Number</label>
            <input type="tel" id="mobileNumber" name="phone" required >
        </div>

        <div class="form-group">
            <label>Password</label>
            <input type="password"  id="newPassword" name="password" required>
        </div>

        <div class="form-group">
            <label>Confirm Password</label>
            <input type="password"  id="Conformpassword"  name="confirm_password" required >
        </div>

        <button type="submit" class="btn" >Register</button>
        <p id="response"></p>
    </form>
</div>
<script>
    document.getElementById("registerform").addEventListener("submit",function(event){
        let responseparagraph= document.querySelector("#response")
        event.preventDefault();
        let fname=document.getElementById("firstname").value.trim();
        let lname=document.getElementById("lastname").value.trim();
        let userEmail=document.getElementById("Email").value.trim();
        let pNumber=document.getElementById("mobileNumber").value.trim();
        let Password= document.getElementById("newPassword").value.trim();
        let cpassword=document.getElementById("Conformpassword").value.trim();

        if(Password != cpassword){
            alert("Password does't match!please try again");
            return;

        }

        fetch("/register", {
        method: "POST",
        headers: {
            "Content-Type": "application/x-www-form-urlencoded"
        },
        body: new URLSearchParams({
          FirstName: fname,
          LastName:lname,
          email:userEmail,
          phone:pNumber,
          newpassword:Password,
          conformpassword:cpassword,
        })
    })
    .then(response =>response.text())
    .then(data => {
        alert(data);
        if (data === "success") {
            alert("Registration successful!");
            window.location.href = "/";
        } else {
            alert(data);   // show error from Flask
        }
    })
    .catch(error => {
        console.error("Error:", error);
        alert("Server error. Try again later.");
    });
    
        })

        


</script>

</body>
</html>
